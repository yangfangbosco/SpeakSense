# SpeakSense Configuration File

# ASR Service Configuration
asr:
  model_type: "whisper"
  model_name: "base"  # Options: tiny, base, small, medium, large (using base for speed)
  language: "auto"  # auto, zh, en
  device: "cpu"  # cpu (MPS has compatibility issues with current PyTorch)
  port: 8001

# Embedding Model Configuration
embedding:
  model_type: "bge"
  model_name: "BAAI/bge-small-zh-v1.5"  # Smaller BGE model (faster download, 100MB vs 2GB)
  device: "cpu"  # cpu for now (MPS support varies)
  max_length: 512

# TTS Configuration
tts:
  model_type: "cosyvoice2"  # Using CosyVoice2-0.5B (zero-shot voice cloning, multi-language)
  language: "auto"  # auto, zh, en
  speed: 1.0
  volume: 1.0
  sample_rate: 22050  # CosyVoice2 uses 22050 Hz

# Vector Database Configuration
vector_db:
  type: "chromadb"
  persist_directory: "./data/chromadb"
  collection_name: "faq_embeddings"
  distance_metric: "cosine"  # cosine, l2, ip

# Retrieval Configuration
retrieval:
  port: 8002
  bm25_weight: 0.3  # Weight for BM25 score
  vector_weight: 0.7  # Weight for vector similarity score
  top_k_bm25: 10  # Number of candidates from BM25
  top_k_vector: 10  # Number of candidates from vector search
  final_top_k: 1  # Number of final results to return

# Admin Service Configuration
admin:
  port: 8003
  audio_output_dir: "./data/audio_files"
  audio_format: "wav"  # wav, mp3 (PaddleSpeech generates WAV format)

# Database Configuration
database:
  type: "sqlite"
  path: "./data/faq.db"

# Preprocessing Configuration
preprocessing:
  enable_synonym_normalization: true
  enable_typo_correction: true
  synonym_dict_path: "./config/synonyms.json"
